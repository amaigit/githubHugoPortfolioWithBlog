{{/* DEBUG: stampa il contesto ricevuto */}}
{{/* {{ printf "%#v" . }} */}}
{{ $skills := .skills | default .section.skills | default . }}
{{ $skillsLen := len $skills }}
<section id="skills" class="section section-skills">
  <div class="container">
    <h2 class="section-title">
      {{ with .section }}{{ .name | default "Competenze" }}{{ else }}Competenze{{ end }}
    </h2>
    <div class="row">
      {{ if gt $skillsLen 0 }}
        {{ range $skills }}
          {{ if (isset . "name") }}
          <div class="col-md-6 col-lg-4 mb-4">
            <div class="card h-100 text-center">
              <div class="card-body">
                {{ if .icon }}
                  <img src="/{{ .icon }}" alt="{{ .name }}" class="mb-2" style="height:48px;">
                  <h5 class="card-title">{{ .name }}</h5>
                  <p class="card-text">Livello: {{ .level }}</p>
                {{ else }}
                  {{ with .logo }}<img src="/{{ . }}" alt="{{ .name }}" class="mb-2" style="height:48px;">{{ end }}
                  <h5 class="card-title">{{ .name }}</h5>
                  <p class="card-text">{{ .summary }}</p>
                  <div class="small text-muted">{{ delimit .tags ", " }}</div>
                {{ end }}
              </div>
            </div>
          </div>
          {{ end }}
        {{ end }}
      {{ else }}
        <div class="alert alert-danger">Errore: il contesto passato a skills.html non è una lista o è vuoto! ({{ printf "%T" $skills }})</div>
      {{ end }}
    </div>
  </div>
</section> 